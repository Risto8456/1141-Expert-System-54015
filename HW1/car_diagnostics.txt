(deftemplate car-problem (slot problem))
(deftemplate car-condition (slot condition))

(defrule problem-A-1
    (car-condition (condition noise-when-braking))
    =>
    (assert (car-problem (problem brake-malfunction))))
(defrule problem-A-2
    (car-condition (condition noise-from-tires))
    =>
    (assert (car-problem (problem brake-malfunction))))

(defrule problem-B-1
    (car-condition (condition temperature-gauge-high))
    =>
    (assert (car-problem (problem radiator-malfunction))))
(defrule problem-B-2
    (car-condition (condition radiator-leaking))
    =>
    (assert (car-problem (problem radiator-malfunction))))

(defrule problem-C-1
    (car-condition (condition noise-from-engine-compartment))
    =>
    (assert (car-problem (problem engine-belt-is-loose))))

(defrule problem-D-1
    (car-condition (condition engine-fails-to-start))
    =>
    (assert (car-problem (problem car-battery-is-dead))))

(defrule deal-with-type-A
    (car-problem (problem brake-malfunction))
    =>
    (printout t "check brake fluid and pedal" crlf))
(defrule deal-with-type-B
    (car-problem (problem radiator-malfunction))
    =>
    (printout t "repair the car radiator or add water" crlf))
(defrule deal-with-type-C
    (car-problem (problem engine-belt-is-loose))
    =>
    (printout t "replace the engine belt" crlf))
(defrule deal-with-type-D
    (car-problem (problem car-battery-is-dead))
    =>
    (printout t "replace or recharge the car battery" crlf))